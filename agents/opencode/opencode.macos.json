{
  "$schema": "https://opencode.ai/config.json",
  "instructions": [
    "AGENTS.md",
    "~/.agents/AGENTS.md"
  ],
  "mcp": {
    "GeminiCloudAssist": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@google-cloud/gemini-cloud-assist-mcp@latest"
      ],
      "timeout": 600000
    },
    "chrome-devtools": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "chrome-devtools-mcp@latest",
        "--no-usage-statistics",
        "--no-performance-crux"
      ],
      "timeout": 120000
    },
    "opentofu": {
      "type": "remote",
      "url": "https://mcp.opentofu.org/sse"
    },
    "confluence": {
      "type": "remote",
      "url": "https://mcp.atlassian.com/v1/mcp"
    }
  },
  "permission": {
    "bash": {
      "*": "ask",
      "cd*": "allow",
      "ls*": "allow",
      "cat*": "allow",
      "echo*": "allow",
      "mkdir*": "allow",
      "jq*": "allow",
      "yq*": "allow",
      "rg*": "allow",
      "grep*": "allow",

      "npm view*": "allow",
      "pnpm check*": "allow",

      "tofu import*": "ask",
      "tofu state*": "ask",
      "tofu taint*": "ask",
      "tofu untaint*": "ask",
      "tofu apply*": "deny",
      "tofu destroy*": "deny",

      "nix flake*": "allow",
      "statix*": "allow",
      "alejandra*": "allow",

      "git status*": "allow",
      "git log*": "allow",
      "git show*": "allow",
      "git diff*": "allow",
      "git shortlog*": "allow",
      "git reflog*": "allow",
      "git branch --list*": "allow",
      "git branch -a*": "allow",
      "git branch -r*": "allow",
      "git tag --list*": "allow",
      "git tag -l*": "allow",
      "git remote -v*": "allow",
      "git remote show*": "allow",
      "git ls-files*": "allow",
      "git ls-tree*": "allow",
      "git grep*": "allow",
      "git rev-parse*": "allow",
      "git config --list*": "allow",
      "git config --get*": "allow",
      "git version*": "allow",
      "git push --force*": "deny",
      "git push -f*": "deny",
      "git clean -f*": "deny",
      "git clean -fdx*": "deny",
      "git reset --hard*": "deny",
      "git rebase*": "deny",

      "gcloud*": "ask",
      "gcloud config list*": "allow",
      "gcloud config get-value*": "allow",
      "gcloud projects list*": "allow",
      "gcloud projects describe*": "allow",
      "gcloud auth list*": "allow",
      "gcloud services list*": "allow",
      "gcloud compute instances list*": "allow",
      "gcloud compute instances describe*": "allow",
      "gcloud compute zones list*": "allow",
      "gcloud compute regions list*": "allow",
      "gcloud compute machine-types list*": "allow",
      "gcloud compute disks list*": "allow",
      "gcloud compute images list*": "allow",
      "gcloud container clusters list*": "allow",
      "gcloud container clusters describe*": "allow",
      "gcloud container node-pools list*": "allow",
      "gcloud storage ls*": "allow",
      "gcloud storage buckets list*": "allow",
      "gcloud storage buckets describe*": "allow",
      "gcloud compute networks list*": "allow",
      "gcloud compute networks describe*": "allow",
      "gcloud compute firewall-rules list*": "allow",
      "gcloud compute firewall-rules describe*": "allow",
      "gcloud iam service-accounts list*": "allow",
      "gcloud iam roles list*": "allow",
      "gcloud projects delete*": "deny",
      "gcloud organizations*": "deny",
      "gcloud auth revoke*": "deny",

      "kubectl*": "ask",
      "kubectl get*": "allow",
      "kubectl describe*": "allow",
      "kubectl diff*": "allow",
      "kubectl logs*": "allow",
      "kubectl top*": "allow",
      "kubectl events*": "allow",
      "kubectl version*": "allow",
      "kubectl cluster-info*": "allow",
      "kubectl api-resources*": "allow",
      "kubectl api-versions*": "allow",
      "kubectl * get*": "allow",
      "kubectl * describe*": "allow",
      "kubectl * diff*": "allow",
      "kubectl * logs*": "allow",
      "kubectl * top*": "allow",
      "kubectl * events*": "allow",
      "kubectl * version*": "allow",
      "kubectl * cluster-info*": "allow",
      "kubectl * api-resources*": "allow",
      "kubectl * api-versions*": "allow",
      "kubectl config view*": "allow",
      "kubectl config current-context*": "allow",
      "kubectl config get-contexts*": "allow",
      "kubectl * config view*": "allow",
      "kubectl * config current-context*": "allow",
      "kubectl * config get-contexts*": "allow",
      "kubectl delete*": "deny",
      "kubectl apply*": "deny",
      "kubectl edit*": "deny",
      "kubectl scale*": "deny",
      "kubectl cordon*": "deny",
      "kubectl uncordon*": "deny",
      "kubectl drain*": "deny",
      "kubectl run*": "deny",
      "kubectl create*": "deny",
      "kubectl patch*": "deny",
      "kubectl replace*": "deny",
      "kubectl expose*": "deny",
      "kubectl autoscale*": "deny",
      "kubectl rollout*": "deny",
      "kubectl * delete*": "deny",
      "kubectl * apply*": "deny",
      "kubectl * edit*": "deny",
      "kubectl * scale*": "deny",
      "kubectl * cordon*": "deny",
      "kubectl * uncordon*": "deny",
      "kubectl * drain*": "deny",
      "kubectl * run*": "deny",
      "kubectl * create*": "deny",
      "kubectl * patch*": "deny",
      "kubectl * replace*": "deny",
      "kubectl * expose*": "deny",
      "kubectl * autoscale*": "deny",
      "kubectl * rollout*": "deny",

      "helm*": "ask",
      "helm help*": "allow",
      "helm version*": "allow",
      "helm list*": "allow",
      "helm status*": "allow",
      "helm get*": "allow",
      "helm show*": "allow",
      "helm search*": "allow",
      "helm history*": "allow",
      "helm template*": "allow",
      "helm lint*": "allow",
      "helm * help*": "allow",
      "helm * version*": "allow",
      "helm * list*": "allow",
      "helm * status*": "allow",
      "helm * get*": "allow",
      "helm * show*": "allow",
      "helm * search*": "allow",
      "helm * history*": "allow",
      "helm * template*": "allow",
      "helm * lint*": "allow",
      "helm uninstall*": "deny",
      "helm delete*": "deny",
      "helm * uninstall*": "deny",
      "helm * delete*": "deny"
    },
    "chrome-devtools_*": "allow",
    "confluence_*": "ask",
    "confluence_get*": "allow",
    "confluence_search*": "allow"
  }
}
