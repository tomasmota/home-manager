{
  "$schema": "https://opencode.ai/config.json",
  "instructions": [
    "AGENTS.md",
    "~/.agents/AGENTS.md"
  ],
  "mcp": {
    "GeminiCloudAssist": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@google-cloud/gemini-cloud-assist-mcp@latest"
      ],
      "timeout": 600000
    },
    "chrome-devtools": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "chrome-devtools-mcp@latest",
        "--no-usage-statistics",
        "--no-performance-crux"
      ],
      "timeout": 120000
    },
    "kubernetes": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "kubernetes-mcp-server@latest",
        "--read-only",
        "--toolsets=config,core"
      ],
      "timeout": 120000
    },
    "opentofu": {
      "type": "remote",
      "url": "https://mcp.opentofu.org/sse"
    },
    "confluence": {
      "type": "remote",
      "url": "https://mcp.atlassian.com/v1/mcp"
    }
  },
  "experimental": {
    "disable_paste_summary": true,
  },
  "permission": {
    "bash": {
      "*": "allow",

      "tofu*": "ask",
      "tofu version*": "allow",
      "tofu fmt*": "allow",
      "tofu validate*": "allow",
      "tofu show*": "allow",
      "tofu output*": "allow",
      "tofu state list*": "allow",
      "tofu apply*": "deny",
      "tofu destroy*": "deny",
      "tofu state rm*": "deny",

      "git push --force*": "deny",
      "git push -f*": "deny",

      "gcloud*": "ask",
      "gcloud config list*": "allow",
      "gcloud config get-value*": "allow",
      "gcloud auth list*": "allow",
      "gcloud services list*": "allow",
      "gcloud* list*": "allow",
      "gcloud* describe*": "allow",
      "gcloud storage ls*": "allow",
      "gcloud projects delete*": "deny",
      "gcloud organizations*": "deny",
      "gcloud auth revoke*": "deny",

      "kubectl*": "ask",
      "kubectl* get*": "allow",
      "kubectl* describe*": "allow",
      "kubectl* diff*": "allow",
      "kubectl* logs*": "allow",
      "kubectl* top*": "allow",
      "kubectl* events*": "allow",
      "kubectl* version*": "allow",
      "kubectl* cluster-info*": "allow",
      "kubectl* api-resources*": "allow",
      "kubectl* api-versions*": "allow",
      "kubectl* config view*": "allow",
      "kubectl* config current-context*": "allow",
      "kubectl* config get-contexts*": "allow",

      "helm*": "ask",
      "cmctl*": "ask",
      "istioctl*": "ask",
      "argocd*": "ask"
    },
    "external_directory": "allow",
    "chrome-devtools_*": "allow",
    "kubernetes_*": "ask",
    "kubernetes_configuration_*": "allow",
    "kubernetes_*_list*": "allow",
    "kubernetes_*_get*": "allow",
    "kubernetes_*_log*": "allow",
    "kubernetes_*_top*": "allow",
    "kubernetes_*_stats*": "allow",
    "kubernetes_events_*": "allow",
    "kubernetes_namespaces_*": "allow",
    "kubernetes_*": "ask",
    "confluence_*": "ask",
    "confluence_get*": "allow",
    "confluence_search*": "allow"
  }
}
